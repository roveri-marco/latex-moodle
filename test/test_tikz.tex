% !TeX encoding = UTF-8
% !TeX spellcheck = en_US
\documentclass{article}
\usepackage[nostamp]{moodle}
\ifxetex % FOR XELATEX
	\usepackage{fontspec}
\else %% FOR PDFLATEX
	\usepackage[utf8]{inputenc} % necessary
	\usepackage[T1]{fontenc} % necessary
\fi
\usepackage{tikz}
\usepackage{varwidth}
\tikzstyle{pict} = [minimum height=1em,inner sep=0pt,execute at begin 
node={\begin{varwidth}{\linewidth}},
execute at end node={\end{varwidth}}]

\newcommand\embedaspictenv[1]{\begin{tikzpicture}
[baseline=-\the\dimexpr\fontdimen22\textfont2\relax]
\node[pict]{\mbox{#1}};\end{tikzpicture}}
\newcommand\embedaspictcom[1]{\tikz{\node[pict]{\mbox{#1}};}}

\htmlregister{\embedaspictenv}
\htmlregister{\embedaspictcom}

\begin{document}

\section*{Introduction}

This document is intended to check the support of picture inclusion using 
Ti\emph{k}Z.

\begin{quiz}{TikZ}

\begin{multi}{Multi}
\embedaspictcom{1}
\item[feedback={\embedaspictcom{2}}]* \embedaspictenv{3}
\item[feedback={\embedaspictenv{4}}] \embedaspictcom{5}
\end{multi}

\begin{matching}[dd]{Matching}
\embedaspictenv{1}
\item \embedaspictcom{2} \answer \embedaspictenv{3}
\item \embedaspictenv{4} \answer \embedaspictcom{5}
\end{matching}

\begin{shortanswer}{Short}
\embedaspictenv{1}
\item[feedback={\embedaspictcom{2}}] 3
\item[feedback={\embedaspictenv{4}}] 5
\end{shortanswer}

\begin{numerical}{Numerical}
\embedaspictcom{1}
\item[feedback={\embedaspictenv{2}}] 3
\item[feedback={\embedaspictcom{4}}] 5
\end{numerical}

\begin{cloze}{Cloze}
\begin{multi}
\embedaspictcom{1}
\item[feedback={\embedaspictcom{2}}]* \embedaspictenv{3}
\item[feedback={\embedaspictenv{4}}] \embedaspictcom{5}
\end{multi}

\begin{shortanswer}
\embedaspictenv{1}
\item[feedback={\embedaspictcom{2}}] 3
\item[feedback={\embedaspictenv{4}}] 5
\end{shortanswer}

\begin{numerical}
\embedaspictcom{1}
\item[feedback={\embedaspictenv{2}}] 3
\item[feedback={\embedaspictcom{4}}] 5
\end{numerical}
\end{cloze}

\end{quiz}

\end{document}
